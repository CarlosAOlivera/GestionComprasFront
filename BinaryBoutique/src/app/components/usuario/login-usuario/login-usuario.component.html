<body>
  <main>
    <h2 class="title">Login</h2>

    <div class="formulario">
      <form [formGroup]="myForm" (ngSubmit)="onSubmit()">

        <div class="form-group">
            <label>Correo electrónico</label>
            <input
              type="text"
              formControlName="CorreoElectronico"
              class="form-control"
              placeholder="Mínimo 9 caracteres"   
              [ngClass]="{ 'is-invalid': submitted && form['CorreoElectronico'].errors }"
            />
            <div *ngIf="submitted && form['CorreoElectronico'].errors" class="invalid-feedback">
              <div *ngIf="form['CorreoElectronico']?.errors?.['required']">El Correo Electrónico es requerido</div>
              <div *ngIf="form['CorreoElectronico']?.errors?.['pattern']">El formato del Correo Electrónico no es válido</div>
              <div *ngIf="form['CorreoElectronico']?.errors?.['minlength']">El Correo Electrónico debe ser mínimo de 9 caracteres</div>
              <div *ngIf="form['CorreoElectronico']?.errors?.['maxlength']">El Correo Electrónico debe ser de máximo de 30 caracteres</div>
            </div>
        </div>

        <div class="form-group">
            <label>Contraseña</label>
            <input
              type="password"
              formControlName="Contrasena"
              class="form-control"
              placeholder="Mínimo 5 caracteres"   
              [ngClass]="{ 'is-invalid': submitted && form['Contrasena'].errors }"
            />
            <div *ngIf="form['Contrasena'].touched && form['Contrasena'].errors" class="invalid-feedback">
              <div *ngIf="form['Contrasena']?.errors?.['required']">La Contraseña es requerido</div>
              <div *ngIf="form['Contrasena']?.errors?.['minlength']">La Contraseña debe ser mínimo de 5 caracteres</div>   
              <div *ngIf="form['Contrasena'].errors['passwordStrength']">La contraseña debe contener letras mayúsculas, letras minúsculas y números.</div>
            </div>
        </div>

        <div class="form-group">      
            <button type="submit" class="btn btn-primary">
                Login
            </button>
          
            <button type="button" routerLink="/home-page" class="btn btn-warning float-right">
                Cancelar
            </button>      
        </div>    

        <div *ngIf="loginError" class="alert alert-danger">
          {{ loginError }}
        </div>

        <div class="registro">
          <span>No tienes cuenta?<a routerLink="/guardar-usuario"> Registrate</a></span>
        </div>

      </form>
    </div>
  </main>
</body>

