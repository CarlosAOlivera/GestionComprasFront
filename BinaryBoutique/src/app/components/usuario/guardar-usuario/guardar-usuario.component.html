<body>
  <main>
    <section class="formulario">
      <h2 class="title">Registrarse</h2>

      <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
      
      <!-- Grupo de Nombre -->
        <fieldset class="form-group">
          <label>Nombres</label>
          <input type="text" class="form-control"
            formControlName="Nombres"     
            placeholder="Mínimo 3 caracteres"   
            [ngClass]="{ 'is-invalid': submitted && form['Nombres'].errors }"
          />
          <div *ngIf="form['Nombres'].touched && form['Nombres'].errors" class="invalid-feedback">
            <span *ngIf="form['Nombres']?.errors?.['required']">Los Nombres son requeridos</span>
            <span *ngIf="form['Nombres']?.errors?.['minlength']">Los Nombres deben ser mínimo de 3 caracteres</span>
            <span *ngIf="form['Nombres']?.errors?.['maxlength']">Los Nombres deben ser de máximo de 30 caracteres</span>
          </div>
        </fieldset>

      <!-- Grupo de Apellido -->
        <fieldset class="form-group">
          <label>Apellidos</label>
          <input
            type="text"
            formControlName="Apellidos"
            class="form-control"
            placeholder="Mínimo 3 caracteres"   
            [ngClass]="{ 'is-invalid': submitted && form['Apellidos'].errors }"
          />
          <div *ngIf="form['Apellidos'].touched && form['Apellidos'].errors" class="invalid-feedback">
            <span *ngIf="form['Apellidos']?.errors?.['required']">Los apellidos son requeridos</span>
            <span *ngIf="form['Apellidos']?.errors?.['minlength']">Los apellidos deben ser mínimo de 3 caracteres</span>
            <span *ngIf="form['Apellidos']?.errors?.['maxlength']">Los apellidos deben ser de máximo de 30 caracteres</span>
          </div>
        </fieldset>

      <!-- Grupo de Email -->
        <fieldset class="form-group">
            <label>Correo electrónico</label>
            <input
              type="text"
              formControlName="CorreoElectronico"
              class="form-control"
              placeholder="Mínimo 9 caracteres"   
              [ngClass]="{ 'is-invalid': submitted && form['CorreoElectronico'].errors }"
            />
            <div *ngIf="form['CorreoElectronico'].touched && form['CorreoElectronico'].errors" class="invalid-feedback">
              <span *ngIf="form['CorreoElectronico']?.errors?.['required']">El Correo Electrónico son requerido</span>
              <span *ngIf="form['CorreoElectronico']?.errors?.['emailFormat']">El formato del Correo Electrónico no es válido</span>
              <span *ngIf="form['CorreoElectronico']?.errors?.['minlength']">El Correo Electrónico debe ser mínimo de 9 caracteres</span>
              <span *ngIf="form['CorreoElectronico']?.errors?.['maxlength']">El Correo Electrónico debe ser de máximo de 30 caracteres</span>
            </div>
        </fieldset>

      <!-- Grupo de Contraseña -->
          <fieldset class="form-group">
            <label>Contraseña</label>
            <input
              type="password"
              formControlName="Contrasena"
              class="form-control"
              placeholder="Mínimo 5 caracteres"   
              [ngClass]="{ 'is-invalid': submitted && form['Contrasena'].errors }"
            />
            <div *ngIf="form['Contrasena'].touched && form['Contrasena'].errors" class="invalid-feedback">
              <span *ngIf="form['Contrasena']?.errors?.['required']">La Contraseña es requerido</span>
              <span *ngIf="form['Contrasena']?.errors?.['minlength']">La Contraseña debe ser mínimo de 5 caracteres</span>   
              <span *ngIf="form['Contrasena'].errors['passwordStrength']">La contraseña debe contener letras mayúsculas, letras minúsculas y números.</span>
            </div>
          </fieldset>

      <!-- Grupo de Confirmar Contraseña -->
          <fieldset class="form-group">
            <label>Confirmar Contraseña</label>
            <input
              type="password"
              formControlName="ConfirmarContrasena"
              class="form-control"
              [ngClass]="{ 'is-invalid': submitted && form['ConfirmarContrasena'].errors }"
            />
            <div *ngIf="form['ConfirmarContrasena'].touched" class="invalid-feedback">
              <span *ngIf="form['ConfirmarContrasena'].errors?.['required']">La confirmación de la contraseña es requerida.</span>
              <span *ngIf="myForm.errors?.['passwordMismatch']">Las contraseñas no coinciden.</span>
            </div>
          </fieldset>

      <!-- Botones-->
        <div class="form-group">      
          <button type="submit" class="btn btn-primary">
            Guardar
          </button>
          
          <button type="button" routerLink="/home-page" class="btn btn-warning float-right">
            Cancelar
          </button>      
        </div>
        
        <section class="login">
          <div>
            <span>Ya tienes cuenta?<a routerLink="/login-usuario"> Login</a></span>
          </div>
          
        </section>
      </form>

    </section>

    
  </main>

</body>